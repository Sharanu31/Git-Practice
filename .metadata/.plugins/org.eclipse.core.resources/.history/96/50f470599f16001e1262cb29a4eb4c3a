package com.example.rev.serviceImp;

import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;

import com.example.rev.entity.Employee;
import com.example.rev.repository.EmployeeRepository;
import com.example.rev.service.EmployeeService;

public class EmployeeServiceImp implements EmployeeService {

	@Autowired
	private EmployeeRepository employeeRepository;

	@Override
	public Employee saveDepartment(Employee emply) throws Exception {
		
	Optional<Employee> duplicate =	Optional.ofNullable(employeeRepository.findByempFirstName(emply.getEmpFirstName()));
	if(duplicate.isEmpty()) {
		throw new Exception("Employee with name " +emply.getEmpFirstName()+ " already exist");
	}
	
	if(emply.getEmpFirstName().isEmpty()) {
		throw new Exception("Employee with name should not be empty");
			
	}
	return employeeRepository.save(emply);
	}

	@Override
	public Employee fectchByDepatmentName(String emplyName) {
		return null;
	}

	@Override
	public List<Employee> fetchAllDeparmtent() {
		return null;
	}

	@Override
	public Optional<Employee> fetchByDepartmentID(Long emplyID) {
		return employeeRepository.findById(emplyID);
	}

}
